{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\indieBubba\\\\frontend\\\\components\\\\Product.js\";\nimport Link from 'next/link';\nimport gql from 'graphql-tag';\nimport { useMutation } from '@apollo/client';\nimport ItemStyles from './styles/ItemStyles';\nimport Title from './styles/Title';\nimport PriceTag from './styles/PriceTag';\nimport formatMoney from '../lib/money';\nimport DeleteProduct from './DeleteProduct';\nimport AddToCart from './AddToCart';\nimport { ALL_PRODUCTS_QUERY_REVIEW } from './ProductsReview';\nimport { useUser } from './User';\nimport Posted from './Posted';\nimport ModalFunction from './Modal';\nimport Refund from './Refund';\nimport Released from './Released';\nimport StatusTag from './styles/StatusTag';\nconst UPDATE_STATUS_MUTATION = gql`\n  mutation UPDATE_STATUS_MUTATION($id: ID!, $dataStatus: String) {\n    updateProduct(where: { id: $id }, data: { status: $dataStatus }) {\n      id\n    }\n  }\n`;\nlet canRelease = 'no';\nexport default function Product({\n  product,\n  pageType\n}) {\n  var _product$photo4, _product$photo4$image, _product$user, _product$user2, _product$user3;\n\n  function hello() {}\n\n  {\n    const timeStamp = product === null || product === void 0 ? void 0 : product.date;\n    const theDate = new Date(timeStamp);\n    const datePlus = theDate.setDate(theDate.getDate() + 21);\n    const date = new Date();\n    const newDate = date.setDate(date.getDate());\n\n    if (newDate > datePlus) {\n      canRelease = 'yes';\n    } else {\n      canRelease = 'no';\n    }\n  }\n  const fee = Math.ceil(product.price * 0.05);\n  const amount = parseInt(product.price) - fee;\n  const user = useUser();\n  const [updateStatus, {\n    data: Data,\n    error: Error,\n    loading: Loading\n  }] = useMutation(UPDATE_STATUS_MUTATION);\n\n  const handleStatus = async event => {\n    const id = event.target.getAttribute('id');\n    const dataStatus = event.target.getAttribute('data-status');\n    const res = await updateStatus({\n      variables: {\n        id,\n        dataStatus\n      },\n      refetchQueries: [{\n        query: ALL_PRODUCTS_QUERY_REVIEW\n      }, 'ALL_PRODUCTS_QUERY_REVIEW']\n    });\n  };\n\n  if (pageType === 'sell') {\n    var _product$photo, _product$photo$image;\n\n    return /*#__PURE__*/_jsxDEV(ItemStyles, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: product === null || product === void 0 ? void 0 : (_product$photo = product.photo) === null || _product$photo === void 0 ? void 0 : (_product$photo$image = _product$photo.image) === null || _product$photo$image === void 0 ? void 0 : _product$photo$image.publicUrlTransformed,\n        alt: product.name,\n        style: {\n          borderBottom: 'solid thin #eeeeee',\n          borderTopLeftRadius: '15px',\n          borderTopRightRadius: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: `/product/${product.id}`,\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PriceTag, {\n        children: formatMoney(product.price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#015268'\n        },\n        children: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonList\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          href: {\n            pathname: '/update',\n            query: {\n              id: product.id\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              borderBottomLeftRadius: '15px',\n              textAlign: 'center',\n              fontSize: '1em'\n            },\n            children: \"Edit \\u270F\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DeleteProduct, {\n          id: product.id,\n          children: \"Delete \\uD83D\\uDDD1\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (pageType === 'sold') {\n    var _product$photo2, _product$photo2$image, _product$order, _product$order$user, _product$order2, _product$order2$user, _product$order3, _product$order3$user, _product$order4, _product$order4$user, _product$order5, _product$order5$user, _product$order6, _product$order6$user, _product$order7, _product$order7$user;\n\n    return /*#__PURE__*/_jsxDEV(ItemStyles, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: product === null || product === void 0 ? void 0 : (_product$photo2 = product.photo) === null || _product$photo2 === void 0 ? void 0 : (_product$photo2$image = _product$photo2.image) === null || _product$photo2$image === void 0 ? void 0 : _product$photo2$image.publicUrlTransformed,\n        alt: product.name,\n        style: {\n          borderBottom: 'solid thin #eeeeee',\n          borderTopLeftRadius: '15px',\n          borderTopRightRadius: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            background: '#fde6ff',\n            display: 'inline',\n            lineHeight: '1.3',\n            fontSize: '4rem',\n            textAlign: ' center',\n            color: '#0077a0',\n            padding: '0 1rem'\n          },\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#015268'\n        },\n        children: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'grey',\n          margin: '0px'\n        },\n        children: [\"Sold on: \", product.date]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'black',\n          marginTop: '0px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: \"Let's talk money...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), \"Sold for: \", formatMoney(product.price), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), \"Fee (5%): \", formatMoney(fee), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), \"Net: \", formatMoney(amount)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: '0px',\n          paddingLeft: '30px',\n          paddingTop: '15px',\n          color: 'green',\n          borderTop: 'solid thin #000000'\n        },\n        children: [\"Post to\", ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), (product === null || product === void 0 ? void 0 : (_product$order = product.order) === null || _product$order === void 0 ? void 0 : (_product$order$user = _product$order.user) === null || _product$order$user === void 0 ? void 0 : _product$order$user.postcode) === '' && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          color: 'red',\n          margin: '0px',\n          paddingBottom: '7px'\n        },\n        children: \"No address on file, please contact buyer!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), (product === null || product === void 0 ? void 0 : (_product$order2 = product.order) === null || _product$order2 === void 0 ? void 0 : (_product$order2$user = _product$order2.user) === null || _product$order2$user === void 0 ? void 0 : _product$order2$user.postcode) !== '' && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '0px',\n          paddingBottom: '7px',\n          color: 'black'\n        },\n        children: [product === null || product === void 0 ? void 0 : (_product$order3 = product.order) === null || _product$order3 === void 0 ? void 0 : (_product$order3$user = _product$order3.user) === null || _product$order3$user === void 0 ? void 0 : _product$order3$user.name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 42\n        }, this), product === null || product === void 0 ? void 0 : (_product$order4 = product.order) === null || _product$order4 === void 0 ? void 0 : (_product$order4$user = _product$order4.user) === null || _product$order4$user === void 0 ? void 0 : _product$order4$user.address, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 45\n        }, this), product === null || product === void 0 ? void 0 : (_product$order5 = product.order) === null || _product$order5 === void 0 ? void 0 : (_product$order5$user = _product$order5.user) === null || _product$order5$user === void 0 ? void 0 : _product$order5$user.town, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 42\n        }, this), product === null || product === void 0 ? void 0 : (_product$order6 = product.order) === null || _product$order6 === void 0 ? void 0 : (_product$order6$user = _product$order6.user) === null || _product$order6$user === void 0 ? void 0 : _product$order6$user.county, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 44\n        }, this), product === null || product === void 0 ? void 0 : (_product$order7 = product.order) === null || _product$order7 === void 0 ? void 0 : (_product$order7$user = _product$order7.user) === null || _product$order7$user === void 0 ? void 0 : _product$order7$user.postcode, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ModalFunction, {\n        id: product.id,\n        pageTypeMod: \"seller\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), (product === null || product === void 0 ? void 0 : product.status) !== 'REFUNDED' && (product === null || product === void 0 ? void 0 : product.status) !== 'RECEIVED' && /*#__PURE__*/_jsxDEV(Refund, {\n        id: product.id,\n        children: \"Refund Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), (product === null || product === void 0 ? void 0 : product.status) === 'ONHOLD' && /*#__PURE__*/_jsxDEV(Released, {\n        id: product.id,\n        children: \"Release Funds\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this), canRelease === 'yes' && (product === null || product === void 0 ? void 0 : product.status) !== 'ONHOLD' && (product === null || product === void 0 ? void 0 : product.status) !== 'RECEIVED' && (product === null || product === void 0 ? void 0 : product.status) !== 'FLAGGED' && (product === null || product === void 0 ? void 0 : product.status) !== 'RECEIVEDBACK' && (product === null || product === void 0 ? void 0 : product.status) !== 'REFUNDED' && /*#__PURE__*/_jsxDEV(Released, {\n        id: product.id,\n        children: \"Release Funds\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }, this), (product === null || product === void 0 ? void 0 : product.status) === 'SOLD' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonList\",\n        children: /*#__PURE__*/_jsxDEV(Posted, {\n          id: product.id,\n          children: \"Mark posted \\uD83D\\uDCEE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), (product === null || product === void 0 ? void 0 : product.status) === 'POSTED' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonList\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: hello,\n          type: \"button\",\n          style: {\n            fontSize: '1.2em',\n            textAlign: 'center',\n            padding: '1rem',\n            margin: '0px',\n            cursor: 'default',\n            color: 'green'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'black'\n            },\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), \" Posted\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), (product === null || product === void 0 ? void 0 : product.status) === 'RECEIVED' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonList\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: hello,\n          type: \"button\",\n          style: {\n            fontSize: '1.2em',\n            textAlign: 'center',\n            padding: '1rem',\n            margin: '0px',\n            cursor: 'default',\n            color: 'green'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'black'\n            },\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), \" Received\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this), (product === null || product === void 0 ? void 0 : product.status) === 'ONHOLD' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonList\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: hello,\n          type: \"button\",\n          style: {\n            fontSize: '1.2em',\n            textAlign: 'center',\n            padding: '1rem',\n            margin: '0px',\n            cursor: 'default',\n            color: 'purple'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'black'\n            },\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), \" Received\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this), (product === null || product === void 0 ? void 0 : product.status) === 'REFUNDED' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonList\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: hello,\n          type: \"button\",\n          style: {\n            fontSize: '1.2em',\n            textAlign: 'center',\n            padding: '1rem',\n            margin: '0px',\n            cursor: 'default',\n            color: 'red'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'black'\n            },\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), \" Refunded\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this), (product === null || product === void 0 ? void 0 : product.status) === 'FLAGGED' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonList\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: hello,\n          type: \"button\",\n          style: {\n            fontSize: '1.2em',\n            textAlign: 'center',\n            padding: '1rem',\n            margin: '0px',\n            cursor: 'default',\n            color: 'red'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'black'\n            },\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this), \" Issue Raised!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (pageType === 'review') {\n    var _product$photo3, _product$photo3$image;\n\n    return /*#__PURE__*/_jsxDEV(ItemStyles, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: product === null || product === void 0 ? void 0 : (_product$photo3 = product.photo) === null || _product$photo3 === void 0 ? void 0 : (_product$photo3$image = _product$photo3.image) === null || _product$photo3$image === void 0 ? void 0 : _product$photo3$image.publicUrlTransformed,\n        alt: product.name,\n        style: {\n          borderBottom: 'solid thin #eeeeee',\n          borderTopLeftRadius: '15px',\n          borderTopRightRadius: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: `/product/${product.id}`,\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PriceTag, {\n        children: formatMoney(product.price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#015268'\n        },\n        children: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonList\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: product.id,\n          \"data-status\": \"DECLINED\",\n          onClick: handleStatus,\n          type: \"button\",\n          style: {\n            fontSize: '1.15em'\n          },\n          children: \"Decline \\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          href: {\n            pathname: '/update',\n            query: {\n              id: product.id\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              borderBottomLeftRadius: '15px',\n              textAlign: 'center',\n              fontSize: '1em'\n            },\n            children: \"Edit \\u270F\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: product.id,\n          \"data-status\": \"AVAILABLE\",\n          onClick: handleStatus,\n          type: \"button\",\n          style: {\n            fontSize: '1.15em'\n          },\n          children: \"Accept \\uD83D\\uDC4D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(ItemStyles, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: product === null || product === void 0 ? void 0 : (_product$photo4 = product.photo) === null || _product$photo4 === void 0 ? void 0 : (_product$photo4$image = _product$photo4.image) === null || _product$photo4$image === void 0 ? void 0 : _product$photo4$image.publicUrlTransformed,\n      alt: product.name,\n      style: {\n        borderBottom: 'solid thin #eeeeee',\n        borderTopLeftRadius: '15px',\n        borderTopRightRadius: '15px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: `/product/${product.id}`,\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PriceTag, {\n      children: [formatMoney(product.price), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Inc Postage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StatusTag, {\n      children: product.condition\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#015268'\n      },\n      children: product.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttonList\",\n      children: [(product === null || product === void 0 ? void 0 : (_product$user = product.user) === null || _product$user === void 0 ? void 0 : _product$user.id) === (user === null || user === void 0 ? void 0 : user.id) && /*#__PURE__*/_jsxDEV(Link, {\n        href: {\n          pathname: '/update',\n          query: {\n            id: product.id\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          style: {\n            borderBottomLeftRadius: '15px',\n            textAlign: 'center',\n            fontSize: '1em'\n          },\n          children: \"Edit \\u270F\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this), (product === null || product === void 0 ? void 0 : (_product$user2 = product.user) === null || _product$user2 === void 0 ? void 0 : _product$user2.id) !== (user === null || user === void 0 ? void 0 : user.id) && /*#__PURE__*/_jsxDEV(AddToCart, {\n        id: product.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 44\n      }, this), (product === null || product === void 0 ? void 0 : (_product$user3 = product.user) === null || _product$user3 === void 0 ? void 0 : _product$user3.id) === (user === null || user === void 0 ? void 0 : user.id) && /*#__PURE__*/_jsxDEV(DeleteProduct, {\n        id: product.id,\n        children: \"Delete \\uD83D\\uDDD1\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/User/Documents/indieBubba/frontend/components/Product.js"],"names":["Link","gql","useMutation","ItemStyles","Title","PriceTag","formatMoney","DeleteProduct","AddToCart","ALL_PRODUCTS_QUERY_REVIEW","useUser","Posted","ModalFunction","Refund","Released","StatusTag","UPDATE_STATUS_MUTATION","canRelease","Product","product","pageType","hello","timeStamp","date","theDate","Date","datePlus","setDate","getDate","newDate","fee","Math","ceil","price","amount","parseInt","user","updateStatus","data","Data","error","Error","loading","Loading","handleStatus","event","id","target","getAttribute","dataStatus","res","variables","refetchQueries","query","photo","image","publicUrlTransformed","name","borderBottom","borderTopLeftRadius","borderTopRightRadius","color","description","pathname","borderBottomLeftRadius","textAlign","fontSize","background","display","lineHeight","padding","margin","marginTop","paddingLeft","paddingTop","borderTop","order","postcode","paddingBottom","address","town","county","status","cursor","condition"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport gql from 'graphql-tag';\r\nimport { useMutation } from '@apollo/client';\r\nimport ItemStyles from './styles/ItemStyles';\r\nimport Title from './styles/Title';\r\nimport PriceTag from './styles/PriceTag';\r\nimport formatMoney from '../lib/money';\r\nimport DeleteProduct from './DeleteProduct';\r\nimport AddToCart from './AddToCart';\r\nimport { ALL_PRODUCTS_QUERY_REVIEW } from './ProductsReview';\r\nimport { useUser } from './User';\r\nimport Posted from './Posted';\r\nimport ModalFunction from './Modal';\r\nimport Refund from './Refund';\r\nimport Released from './Released';\r\nimport StatusTag from './styles/StatusTag';\r\n\r\nconst UPDATE_STATUS_MUTATION = gql`\r\n  mutation UPDATE_STATUS_MUTATION($id: ID!, $dataStatus: String) {\r\n    updateProduct(where: { id: $id }, data: { status: $dataStatus }) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nlet canRelease = 'no';\r\n\r\nexport default function Product({ product, pageType }) {\r\n  function hello() {}\r\n  {\r\n    const timeStamp = product?.date;\r\n    const theDate = new Date(timeStamp);\r\n    const datePlus = theDate.setDate(theDate.getDate() + 21);\r\n    const date = new Date();\r\n    const newDate = date.setDate(date.getDate());\r\n    if (newDate > datePlus) {\r\n      canRelease = 'yes';\r\n    } else {\r\n      canRelease = 'no';\r\n    }\r\n  }\r\n\r\n  const fee = Math.ceil(product.price * 0.05);\r\n  const amount = parseInt(product.price) - fee;\r\n\r\n  const user = useUser();\r\n  const [updateStatus, { data: Data, error: Error, loading: Loading }] =\r\n    useMutation(UPDATE_STATUS_MUTATION);\r\n\r\n  const handleStatus = async (event) => {\r\n    const id = event.target.getAttribute('id');\r\n    const dataStatus = event.target.getAttribute('data-status');\r\n    const res = await updateStatus({\r\n      variables: {\r\n        id,\r\n        dataStatus,\r\n      },\r\n      refetchQueries: [\r\n        { query: ALL_PRODUCTS_QUERY_REVIEW },\r\n        'ALL_PRODUCTS_QUERY_REVIEW',\r\n      ],\r\n    });\r\n  };\r\n\r\n  if (pageType === 'sell') {\r\n    return (\r\n      <ItemStyles>\r\n        <img\r\n          src={product?.photo?.image?.publicUrlTransformed}\r\n          alt={product.name}\r\n          style={{\r\n            borderBottom: 'solid thin #eeeeee',\r\n            borderTopLeftRadius: '15px',\r\n            borderTopRightRadius: '15px',\r\n          }}\r\n        />\r\n        <Title>\r\n          <Link href={`/product/${product.id}`}>{product.name}</Link>\r\n        </Title>\r\n        <PriceTag>{formatMoney(product.price)}</PriceTag>\r\n        <p style={{ color: '#015268' }}>{product.description}</p>\r\n        <div className=\"buttonList\">\r\n          <Link\r\n            href={{\r\n              pathname: '/update',\r\n              query: {\r\n                id: product.id,\r\n              },\r\n            }}\r\n          >\r\n            <a\r\n              style={{\r\n                borderBottomLeftRadius: '15px',\r\n                textAlign: 'center',\r\n                fontSize: '1em',\r\n              }}\r\n            >\r\n              Edit ✏️\r\n            </a>\r\n          </Link>\r\n          <DeleteProduct id={product.id}>Delete 🗑️</DeleteProduct>\r\n        </div>\r\n      </ItemStyles>\r\n    );\r\n  }\r\n  if (pageType === 'sold') {\r\n    return (\r\n      <ItemStyles>\r\n        <img\r\n          src={product?.photo?.image?.publicUrlTransformed}\r\n          alt={product.name}\r\n          style={{\r\n            borderBottom: 'solid thin #eeeeee',\r\n            borderTopLeftRadius: '15px',\r\n            borderTopRightRadius: '15px',\r\n          }}\r\n        />\r\n        <Title>\r\n          <span\r\n            style={{\r\n              background: '#fde6ff',\r\n              display: 'inline',\r\n              lineHeight: '1.3',\r\n              fontSize: '4rem',\r\n              textAlign: ' center',\r\n              color: '#0077a0',\r\n              padding: '0 1rem',\r\n            }}\r\n          >\r\n            {product.name}\r\n          </span>\r\n        </Title>\r\n        <p style={{ color: '#015268' }}>{product.description}</p>\r\n        <p style={{ color: 'grey', margin: '0px' }}>Sold on: {product.date}</p>\r\n        <p style={{ color: 'black', marginTop: '0px' }}>\r\n          <span style={{ color: 'red' }}>Let's talk money...</span>\r\n          <br />\r\n          Sold for: {formatMoney(product.price)}\r\n          <br />\r\n          Fee (5%): {formatMoney(fee)}\r\n          <br />\r\n          Net: {formatMoney(amount)}\r\n        </p>\r\n        <h3\r\n          style={{\r\n            margin: '0px',\r\n            paddingLeft: '30px',\r\n            paddingTop: '15px',\r\n            color: 'green',\r\n            borderTop: 'solid thin #000000',\r\n          }}\r\n        >\r\n          Post to{' '}\r\n        </h3>\r\n\r\n        {product?.order?.user?.postcode === '' && (\r\n          <p\r\n            style={{\r\n              textAlign: 'center',\r\n              color: 'red',\r\n              margin: '0px',\r\n              paddingBottom: '7px',\r\n            }}\r\n          >\r\n            No address on file, please contact buyer!\r\n          </p>\r\n        )}\r\n        {product?.order?.user?.postcode !== '' && (\r\n          <p\r\n            style={{\r\n              margin: '0px',\r\n              paddingBottom: '7px',\r\n              color: 'black',\r\n            }}\r\n          >\r\n            {product?.order?.user?.name} <br />\r\n            {product?.order?.user?.address} <br />\r\n            {product?.order?.user?.town} <br />\r\n            {product?.order?.user?.county} <br />\r\n            {product?.order?.user?.postcode} <br />\r\n          </p>\r\n        )}\r\n\r\n        <ModalFunction id={product.id} pageTypeMod=\"seller\" />\r\n\r\n        {product?.status !== 'REFUNDED' && product?.status !== 'RECEIVED' && (\r\n          <Refund id={product.id}>Refund Item</Refund>\r\n        )}\r\n\r\n        {product?.status === 'ONHOLD' && (\r\n          <Released id={product.id}>Release Funds</Released>\r\n        )}\r\n\r\n        {canRelease === 'yes' &&\r\n          product?.status !== 'ONHOLD' &&\r\n          product?.status !== 'RECEIVED' &&\r\n          product?.status !== 'FLAGGED' &&\r\n          product?.status !== 'RECEIVEDBACK' &&\r\n          product?.status !== 'REFUNDED' && (\r\n            <Released id={product.id}>Release Funds</Released>\r\n          )}\r\n\r\n        {product?.status === 'SOLD' && (\r\n          <div className=\"buttonList\">\r\n            <Posted id={product.id}>Mark posted 📮</Posted>\r\n          </div>\r\n        )}\r\n        {product?.status === 'POSTED' && (\r\n          <div className=\"buttonList\">\r\n            <button\r\n              onClick={hello}\r\n              type=\"button\"\r\n              style={{\r\n                fontSize: '1.2em',\r\n                textAlign: 'center',\r\n                padding: '1rem',\r\n                margin: '0px',\r\n                cursor: 'default',\r\n                color: 'green',\r\n              }}\r\n            >\r\n              <span style={{ color: 'black' }}>Status:</span> Posted\r\n            </button>\r\n          </div>\r\n        )}\r\n        {product?.status === 'RECEIVED' && (\r\n          <div className=\"buttonList\">\r\n            <button\r\n              onClick={hello}\r\n              type=\"button\"\r\n              style={{\r\n                fontSize: '1.2em',\r\n                textAlign: 'center',\r\n                padding: '1rem',\r\n                margin: '0px',\r\n                cursor: 'default',\r\n                color: 'green',\r\n              }}\r\n            >\r\n              <span style={{ color: 'black' }}>Status:</span> Received\r\n            </button>\r\n          </div>\r\n        )}\r\n        {product?.status === 'ONHOLD' && (\r\n          <div className=\"buttonList\">\r\n            <button\r\n              onClick={hello}\r\n              type=\"button\"\r\n              style={{\r\n                fontSize: '1.2em',\r\n                textAlign: 'center',\r\n                padding: '1rem',\r\n                margin: '0px',\r\n                cursor: 'default',\r\n                color: 'purple',\r\n              }}\r\n            >\r\n              <span style={{ color: 'black' }}>Status:</span> Received\r\n            </button>\r\n          </div>\r\n        )}\r\n        {product?.status === 'REFUNDED' && (\r\n          <div className=\"buttonList\">\r\n            <button\r\n              onClick={hello}\r\n              type=\"button\"\r\n              style={{\r\n                fontSize: '1.2em',\r\n                textAlign: 'center',\r\n                padding: '1rem',\r\n                margin: '0px',\r\n                cursor: 'default',\r\n                color: 'red',\r\n              }}\r\n            >\r\n              <span style={{ color: 'black' }}>Status:</span> Refunded\r\n            </button>\r\n          </div>\r\n        )}\r\n        {product?.status === 'FLAGGED' && (\r\n          <div className=\"buttonList\">\r\n            <button\r\n              onClick={hello}\r\n              type=\"button\"\r\n              style={{\r\n                fontSize: '1.2em',\r\n                textAlign: 'center',\r\n                padding: '1rem',\r\n                margin: '0px',\r\n                cursor: 'default',\r\n                color: 'red',\r\n              }}\r\n            >\r\n              <span style={{ color: 'black' }}>Status:</span> Issue Raised!\r\n            </button>\r\n          </div>\r\n        )}\r\n      </ItemStyles>\r\n    );\r\n  }\r\n  if (pageType === 'review') {\r\n    return (\r\n      <ItemStyles>\r\n        <img\r\n          src={product?.photo?.image?.publicUrlTransformed}\r\n          alt={product.name}\r\n          style={{\r\n            borderBottom: 'solid thin #eeeeee',\r\n            borderTopLeftRadius: '15px',\r\n            borderTopRightRadius: '15px',\r\n          }}\r\n        />\r\n        <Title>\r\n          <Link href={`/product/${product.id}`}>{product.name}</Link>\r\n        </Title>\r\n        <PriceTag>{formatMoney(product.price)}</PriceTag>\r\n        <p style={{ color: '#015268' }}>{product.description}</p>\r\n        <div className=\"buttonList\">\r\n          <button\r\n            id={product.id}\r\n            data-status=\"DECLINED\"\r\n            onClick={handleStatus}\r\n            type=\"button\"\r\n            style={{ fontSize: '1.15em' }}\r\n          >\r\n            Decline ❌\r\n          </button>\r\n          <Link\r\n            href={{\r\n              pathname: '/update',\r\n              query: {\r\n                id: product.id,\r\n              },\r\n            }}\r\n          >\r\n            <a\r\n              style={{\r\n                borderBottomLeftRadius: '15px',\r\n                textAlign: 'center',\r\n                fontSize: '1em',\r\n              }}\r\n            >\r\n              Edit ✏️\r\n            </a>\r\n          </Link>\r\n          <button\r\n            id={product.id}\r\n            data-status=\"AVAILABLE\"\r\n            onClick={handleStatus}\r\n            type=\"button\"\r\n            style={{ fontSize: '1.15em' }}\r\n          >\r\n            Accept 👍\r\n          </button>\r\n        </div>\r\n      </ItemStyles>\r\n    );\r\n  }\r\n  return (\r\n    <ItemStyles>\r\n      <img\r\n        src={product?.photo?.image?.publicUrlTransformed}\r\n        alt={product.name}\r\n        style={{\r\n          borderBottom: 'solid thin #eeeeee',\r\n          borderTopLeftRadius: '15px',\r\n          borderTopRightRadius: '15px',\r\n        }}\r\n      />\r\n      <Title>\r\n        <Link href={`/product/${product.id}`}>{product.name}</Link>\r\n      </Title>\r\n      <PriceTag>\r\n        {formatMoney(product.price)}\r\n        <br />\r\n        <span>Inc Postage</span>\r\n      </PriceTag>\r\n      <StatusTag>{product.condition}</StatusTag>\r\n      <p style={{ color: '#015268' }}>{product.description}</p>\r\n      <div className=\"buttonList\">\r\n        {product?.user?.id === user?.id && (\r\n          <Link\r\n            href={{\r\n              pathname: '/update',\r\n              query: {\r\n                id: product.id,\r\n              },\r\n            }}\r\n          >\r\n            <a\r\n              style={{\r\n                borderBottomLeftRadius: '15px',\r\n                textAlign: 'center',\r\n                fontSize: '1em',\r\n              }}\r\n            >\r\n              Edit ✏️\r\n            </a>\r\n          </Link>\r\n        )}\r\n        {product?.user?.id !== user?.id && <AddToCart id={product.id} />}\r\n        {product?.user?.id === user?.id && (\r\n          <DeleteProduct id={product.id}>Delete 🗑️</DeleteProduct>\r\n        )}\r\n      </div>\r\n    </ItemStyles>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}